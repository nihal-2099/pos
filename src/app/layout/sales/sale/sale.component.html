<app-pageheaders [topHeadingContent]="{
    heading:  'Sale' ,
    subitems: isTableSelect ?'Table Choose': 'Menu Choose',
  }">

@if(!isTableSelect){
    <div class="top_header">
        <div class="top_header_button">
          <button type="button" class="btn btn-secondary d-flex justify-content-between align-items-center"
            (click)="isTableSelect = !isTableSelect">
            <i-feather name="arrow-left" class="icons custom-icons"></i-feather>
            <span>Back to Select Table</span>
          </button>
        </div>
      </div>
}

</app-pageheaders>




@if(isTableSelect){
    <app-table-select  (tableSelectDetails)="tableSelectedDetails($event)"/>
}
@else{
    <div class="row">

        <div class="col-12 col-lg-8">
            <div class="row">
                <div class="col-12 col-lg-4">
                    <select class="form-select" aria-label="Default select example" (change)="filterItem($event)" [(ngModel)]="selectCrusine">
                        <option selected disabled>Select Category</option>
                        @for (item of categoryData; track $index) {
                        <option [value]="item?.id">{{item?.categoryname}}</option>
                        }
                    </select>
                </div>
                <div class="col-12 col-lg-4">
                    <form class="d-flex mx-3 nav-search-bar" role="search">
                        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
                      </form>
                </div>

                <div class="col-12 col-lg-4">
                    <div class="d-flex justify-content-end align-items-center">

<p class="text-end mb-0"><b>Table No:</b>  {{selectedTable?.tableno}}({{selectedTable?.area}})  - {{selectedTable?.status}}</p>
</div>

                    </div>
            </div>
       
    
            <div class="row">
                @for (item of filetredItems; track $index) {
                <div class="col-12 col-lg-3">
                    <app-sale-cards [itemsDetails]="item" (addToCart)="getDetails($event)" />
                </div>
                }
            </div>
    
    
    
    
    
        </div>
    
    
        <div class="col-12 col-lg-4">
            <div class="w-100">
            <div class="btn-group w-100" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-primary">Dine In</button>
                <button type="button" class="btn btn-primary">Delivery</button>
                <button type="button" class="btn btn-primary">Pickup</button>
              </div>





              
              <div class="type-container">
              <form [formGroup]="orderForm">
                <table class="table">
                    <thead>
                      <tr>
                        <th>Item</th>
                        <th>Check Items</th>
                        <th>Qty</th>
                        <th>Price</th>
                      </tr>
                    </thead>
                    <tbody>

                        <ng-container formArrayName="items">

                            @for (item of items.controls; track $index) {

                      <tr [formGroupName]="$index">
                        <td>{{$index + 1}}</td>
                        <td>{{item.get("item")?.value}}</td>
                        <td>   <button type="button" (click)="decreaseQuantity($index)">-</button>
                            <input type="number" formControlName="quantity" readonly />
                            <button type="button" (click)="increaseQuantity($index)">+</button></td>
                        <td>{{item.get("price")?.value}}</td>
                      </tr>

                    }
                    </ng-container>
                    </tbody>
                  </table>
                </form>




                <!-- user -->

              </div>
            </div>
        </div>
    </div>
}
 

